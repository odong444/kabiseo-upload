{% extends "base.html" %}
{% block title %}카비서 - 채팅{% endblock %}
{% block body_class %}chat-page{% endblock %}

{% block header %}
<header class="chat-header">
    <div class="chat-header-inner">
        <div class="chat-profile">
            <div class="profile-avatar">K</div>
            <div class="profile-info">
                <span class="profile-name">카비서</span>
                <span class="profile-status" id="botStatus">온라인</span>
            </div>
        </div>
        <button class="menu-btn" id="menuToggle">&#9776;</button>
    </div>
</header>
{% endblock %}

{% block content %}
<div class="chat-container" id="chatContainer">
    <div class="chat-messages" id="chatMessages">
        <!-- 메시지가 여기에 추가됨 -->
    </div>
</div>

<div class="chat-input-area">
    <div class="chat-input-wrap">
        <input type="text" id="chatInput" placeholder="메시지를 입력하세요..." autocomplete="off">
        <button class="send-btn" id="sendBtn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
            </svg>
        </button>
    </div>
</div>
{% endblock %}

{% block nav %}
<nav class="bottom-nav">
    <a href="/chat" class="nav-item active">
        <span class="nav-icon">&#128172;</span>
        <span class="nav-label">채팅</span>
    </a>
    <a href="/status" class="nav-item">
        <span class="nav-icon">&#128203;</span>
        <span class="nav-label">진행현황</span>
    </a>
    <a href="/upload" class="nav-item">
        <span class="nav-icon">&#128247;</span>
        <span class="nav-label">사진제출</span>
    </a>
    <a href="/payment" class="nav-item">
        <span class="nav-icon">&#128176;</span>
        <span class="nav-label">입금</span>
    </a>
</nav>
{% endblock %}

{% block head %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.4/socket.io.min.js"></script>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/chat.js') }}"></script>
{% endblock %}
